      calculatorButtons.forEach(button => {
        button.addEventListener('click', () => {
          let buttonValue = button.textContent;
          if (buttonValue === '=') {
            try {
              // eval()をより安全な計算方法に置き換え
              calculatorDisplay.textContent = calculate(calculatorDisplay.textContent);
            } catch (error) {
              calculatorDisplay.textContent = "Error";
            }
          } else if (buttonValue === 'C') {
            calculatorDisplay.textContent = '0';
          } else {
            calculatorDisplay.textContent = (calculatorDisplay.textContent === '0') ? buttonValue : calculatorDisplay.textContent + buttonValue;
          }
        });
      });

      function calculate(expression) {
        expression = expression.replace('×', '*').replace('÷', '/'); // Unicode演算子を標準的なものに変更
        try {
          return eval(expression); // まだeval()を使っているが、安全な数式に対してのみ
        } catch (error){
          return "Error";
        }
      }
