document.addEventListener('DOMContentLoaded', function() {
  // Your calculator initialization code goes here  This entire block, including the functions, should be inside this event listener.

  let calculatorDisplay = document.getElementById('calculatorDisplay');
  let calculatorButtons = document.querySelectorAll('.calculatorButton');
  let clearButton = document.getElementById('clearButton');

  calculatorButtons.forEach(button => {
    button.addEventListener('click', () => {
      let buttonValue = button.textContent;
      if (buttonValue === '=') {
        try {
          calculatorDisplay.textContent = calculate(calculatorDisplay.textContent);
        } catch (error) {
          calculatorDisplay.textContent = "Error";
        }
      } else if (buttonValue === 'C') {
        calculatorDisplay.textContent = '0';
      } else {
        calculatorDisplay.textContent = (calculatorDisplay.textContent === '0') ? buttonValue : calculatorDisplay.textContent + buttonValue;
      }
    });
  });

  function calculate(expression) {
    expression = expression.replace('ร', '*').replace('รท', '/');
    try {
      return eval(expression);
    } catch (error) {
      return "Error";
    }
  }

  clearButton.addEventListener('click', () => {
    calculatorDisplay.textContent = '0';
  });
});

//rest of your p5.js code like setup() and draw() should remain outside of this function
